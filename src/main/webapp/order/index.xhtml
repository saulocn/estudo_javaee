<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Orders</title>
</h:head>
<h:body>
    <h1>New Order</h1>
    <h:form>
        <fieldset>
            <legend>Novo Pedido</legend>
            <h:panelGrid columns="2">
                <h:outputLabel value="Livro" for="livro"/>
                <h:selectOneMenu value="#{orderBean.bookId}">
                    <f:selectItems value="#{orderBean.books}" var="book" itemLabel="#{book.nome}"
                                   itemValue="#{book.id}"/>
                </h:selectOneMenu>
                <h:commandButton value="Salvar Livro" action="#{orderBean.saveBook}"/>

                <h:dataTable value="#{orderBean.currentBooks}" var="book">
                    <h:column>
                        <h:outputText value="#{book.nome}" />
                    </h:column>
                </h:dataTable>
            </h:panelGrid>
        </fieldset>
        <h:commandButton value="Salvar" action="#{orderBean.save}"/>
    </h:form>
</h:body>
</html>
